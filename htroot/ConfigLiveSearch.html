<!DOCTYPE html>
<html lang="en">
<head>
  <title>YaCy <code>#[clientname]#</code>: Integration of a Search Field for Live Search</title>
  #%env/templates/header-backend.template%#
</head>

<body id="configLiveSearch">
  #%env/templates/page-start.template%#

  <div id="devInfo" data-done="html5" data-skip="validation"></div>

  <h1>Integration of Live Search with YaCy Search Widget</h1>
  <p>
    A <em>Live-Search</em> input field that reacts as search-as-you-type in a pop-up window can easily be integrated in any web page.
    This is the same function as can be seen on all pages of the YaCy online-interface (look at the window in the upper right corner).
  </p>
  <div class="p">
    There are basically two methods for integrating the YaCy Search Widget with your web site.
    <ol>
      <li>Static hosting of widget on own HTTP server</li>
      <li>Remote access through selected YaCy Peer</li>
    </ol>
  </div>

  <h2>Static hosting of widget on own HTTP server</h2>
  <h3>Advantages</h3>
  <ul>
    <li>faster connection speed</li>
    <li>possibility for local adaptions</li>
  </ul>

  <h3>Disadvantages</h3>
  <ul>
    <li>
      No automatic update to future releases of YaCy Search Widget
    </li>
    <li>
      Ajax/JSONP cross domain requests needed to query remote YaCy Peer
    </li>
  </ul>

  <h3>Installing</h3>
  <ul>
    <li>
      download <code>yacy-portalsearch.tar.gz</code> from <a href="http://yacy.net/" target="_blank">http://yacy.net</a>
    </li>
    <li>
      unpack within your HTTP servers path
    </li>
    <li>
      use <code>./yacy/portalsearch/yacy-portalsearch.html</code> as reference for integration with your own portal page
    </li>
  </ul>

  <h2>Remote access through selected YaCy Peer</h2>
  <h3>Advantages</h3>
  <ul>
    <li>
      Always latest version of YaCy Search Widget
    </li>
    <li>
      No Ajax/JSONP cross domain requests, as Search Widget and YaCy Peer are hosted on the same domain.
    </li>
  </ul>
  <h3>Disadvantages</h3>
  <ul>
    <li>
      Under certain cirumstances slower than static hosting
    </li>
  </ul>
  <h3>Installing</h3>
  <ul>
    <li>
      Just use the code snippet below and paste it any place in your own portal page
    </li>
    <li>
      Please check if <code>#[ip]#:#[port]#</code> is appropriate or replace it with address of the YaCy Peer holding your index
    </li>
  </ul>
  <pre><code>
&lt;script src="http://#[ip]#:#[port]#/jquery/js/jquery-1.7.min.js" type="text/javascript" type="text/javascript"&gt;&lt;/script&gt;
&lt;script&gt;
  $(document).ready(function() {
    yconf = {
      url: <code>http://#[ip]#:#[port]#</code>,
      title: <code>YaCy Search Widget</code>,
      logo: <code>/yacy/ui/img/yacy-logo.png</code>,
      link: <code>http://www.yacy.net</code>,
      global: false,
      width: 500,
      height: 600,
      position: [<code>top</code>,30],
      theme: <code>start</code>
    };
    $.getScript(yconf.url+<code>/portalsearch/yacy-portalsearch.js</code>, function(){});
  });
&lt;/script&gt;
&lt;div id="yacylivesearch"&gt;
  &lt;form id="ysearch" method="get" accept-charset="UTF-8" action="http://#[ip]#:#[port]#/yacysearch.html"&gt;
    Live Search
    &lt;input name="query" id="yquery" class="fancy" type="text" size="15" maxlength="80"/&gt;
    &lt;input type="hidden" name="verify" value="cacheonly"/&gt;
    &lt;input type="hidden" name="maximumRecords" value="20"/&gt;
    &lt;input type="hidden" name="resource" value="local"/&gt;
    &lt;input type="hidden" name="urlmaskfilter" value=".*"/&gt;
    &lt;input type="hidden" name="prefermaskfilter"/&gt;
    &lt;input type="hidden" name="display" value="2"/&gt;
    &lt;input type="hidden" name="nav" value="all"/&gt;
    &lt;input type="submit" name="Enter" value="Search"/&gt;
  &lt;/form&gt;
&lt;/div&gt;
</code></pre>
<h2>Configuration options and defaults for <code>yconf</code>:</h2>
<h3>Defaults</h3>
<ul>
  <li><code>url</code>: http://localhost:8090</li>
  <li><code>global</code>: false</li>
  <li><code>theme</code>: <code>start</code></li>
  <li><code>title</code>: <code>YaCy Search Widget</code></li>
  <li><code>logo</code>: <code>/yacy/ui/img/yacy-logo.png</code></li>
  <li><code>link</code>: <code>http://www.yacy.net</code></li>
  <li><code>width</code>: 640</li>
  <li><code>height</code>: 640</li>
  <li><code>position</code>: [150,50]</li>
  <li><code>modal</code>: false</li>
  <li><code>resizable</code>: true</li>
  <li><code>show</code>: <code></code></li>
  <li><code>hide</code>: <code></code></li>
  <li><code>load_js</code>: true</li>
  <li><code>load_css</code>: true</li>
</ul>
<h3>Size and position (<code>width</code> | <code>height</code> | <code>position</code>)</h3>
<p>
  Specifies where the dialog should be displayed. Possible values for position: <code>center</code>, <code>left</code>, <code>right</code>, <code>top</code>, <code>bottom</code>, or an array containing a coordinate pair (in pixel offset from top left of viewport) or the possible string values (e.g. <code>[<code>right</code>,<code>top</code>]</code> for top right corner).
</p>
<h3>Animation effects (<code>show</code> | <code>hide</code>)</h3>
<p>
  The effect to be used. Possible values: <code>blind</code>, <code>clip</code>, <code>drop</code>, <code>explode</code>, <code>fold</code>, <code>puff</code>, <code>slide</code>, <code>scale</code>, <code>size</code>, <code>pulsate</code>.
</p>
<h3>Interaction (<code>modal</code> | <code>resizable</code>)</h3>
<p>
  If modal is set to true, the dialog will have modal behavior; other items on the page will be disabled (i.e. cannot be interacted with). Modal dialogs create an overlay below the dialog but above other page elements.
</p>
<p>
  If resizable is set to true, the dialog will be resizeable.
</p>
<h3>Load JavaScript load_js (<code>true</code> | <code>false</code>)</h3>
<p>
  This parameter is used for static hosting only.
</p>
<h3>Load Stylesheets load_css (<code>true</code> | <code>false</code>)</h3>
<p>
  This parameter is used for static hosting only.
</p>
<h2>Themes</h2>
<p>
  You can download standard jquery-ui themes or create your own custom themes on <a href="http://jqueryui.com/" target="_blank">http://jqueryui.com/</a>
  <br/>
  Themes are installed in <code>./yacy/jquery/themes/</code> (static hosting) or in <code>DATA/HTDOCS/jquery/themes/</code> on remote YaCy Peer.
  YaCy ships with <code>start</code> and <code>smoothness</code> themes pre-installed.
</p>

#%env/templates/page-end.template%#
</body>
</html>
