<!DOCTYPE html>
<html lang="en">
<head>
  <title>YaCy '#[clientname]#': Field Re-Indexing</title>
  #%env/templates/header-backend.template%#
</head>

<body id="indexReindexMonitor">
  #%env/templates/page-start.template%#

  <h1>Field Re-Indexing</h1>
  <p>
    In case that an index schema has changed, all documents with missing field entries can be indexed again with a reindex job.
  </p>

  <div id="formResults">
    <p><em>Status:</em> #[infomessage]#</p>
  </div>

  #(reindexjobrunning)#
  <form action="IndexReIndexMonitor_p.html" method="post" enctype="multipart/form-data" accept-charset="UTF-8">
    <button type="submit" name="reindexnow" class="primary icon-run">start reindex job</button>
  </form>
  ::#(/reindexjobrunning)#

  <form action="IndexReIndexMonitor_p.html" method="post" enctype="multipart/form-data" accept-charset="UTF-8">
    <fieldset #(reindexjobrunning)#class="hidden"::#(/reindexjobrunning)#>
      <legend>Queue</legend>
      <fieldset class="formGroup">
        <legend>Current</legend>
        <fieldset class="formSection">
          <legend>Size</legend>
          <div class="content">
            #[querysize]#
          </div>
        </fieldset>
        <fieldset class="formSection">
          <legend>Current fields</legend>
          <div class="content">
            #[fieldlist]#
          </div>
        </fieldset>
      </fieldset>
      <fieldset class="formSection">
        <legend>Processed</legend>
        <div class="content">
          #[docsprocessed]#
        </div>
      </fieldset>
      <fieldset class="formSection">
        <legend>current select query</legend>
        <div class="content">
          #[currentselectquery]#
        </div>
      </fieldset>
      <fieldset class="formControl" data-id="formControl">
        <div class="content">
          #(reindexjobrunning)#::
          <button type="submit" name="stopreindex" class="icon-stop">stop reindexing</button>
          <button type="submit" class="primary icon-refresh">refresh page</button>
          #(/reindexjobrunning)#
        </div>
      </fieldset>
    </fieldset>
  </form>
  #%env/templates/page-end.template%#
</body>
</html>
