<!DOCTYPE html>
<html lang="en">
<head>
  <title>YaCy '#[clientname]#': Network Scanner</title>
  #%env/templates/header-backend.template%#
  <script type="text/javascript" src="/js/yaml/pages/crawlStartScanner.js"></script>
</head>

<body id="crawlStartScanner">
  #%env/templates/page-start.template%#

  <div id="devInfo" data-done="html5 script"></div>

  <h1>Network Scanner</h1>

  <p>
    YaCy can scan a network segment for available <abbr>HTTP</abbr>, <abbr>FTP</abbr> and <abbr>SMB</abbr> server.
    You must first select a <abbr>IP</abbr> range and then, after this range is scanned, it is possible to select servers that had been found for a full-site crawl.
  </p>

  #(noserverdetected)#::
  <p class="ycu-message ycu-message-info">
    No servers had been detected in the given <abbr>IP</abbr> range #[iprange]#. Please enter a different <abbr>IP</abbr> range for another scan.
  </p>
  #(/noserverdetected)#

  <form action="CrawlStartScanner_p.html#serverScannerList" id="scanForm" method="get" accept-charset="UTF-8">
    <fieldset>
      <legend>Network Scanner</legend>

      <fieldset class="formGroup">
        <legend>Scan Range</legend>

        <fieldset class="formSection">
          <legend>With given Host</legend>
          <div class="content">
            <input type="radio" name="source" id="sourceHost" value="hosts"#(intranet.checked)# checked="checked"::#(/intranet.checked)# />
            <label for="sourceHost">Scan sub-range with given host</label>
            <textarea name="scanhosts" id="scanHosts" data-toggle-id="sourceHost">#[scanhosts]#</textarea>
            <div class="formHint hidden">
              <p class="error" data-id="empty">
                Please define one or more <abbr>IPs</abbr> (one per line).
              </p>
              <p class="error" data-id="invalid">
                One or more <abbr>IPs</abbr> entered are not valid.
              </p>
              <p class="help">
                Please define one or more <abbr>IPs</abbr> (one per line) to scan.
              </p>
            </div>
          </div>
        </fieldset>
        <fieldset class="formSection">
          <legend>Full Intranet Scan</legend>
          <div class="content">
            #(intranetHint)#
            <input type="radio" name="source" id="sourceNet" value="intranet"#(intranet.checked)#:: checked="checked"#(/intranet.checked)# />
            <label for="sourceNet">Full Intranet Scan: #[intranethosts]#</label>
            ::
            <p>
              <s class="sym sym-hint"></s>
              Disabled. You are not in an intranet environment.
            </p>
            #(/intranetHint)#
          </div>
        </fieldset>
        <fieldset class="formSection">
          <legend>Known Hosts</legend>
          <div class="content">
            <input type="radio" name="source" id="sourceAll" value="all" />
            <label for="sourceAll">All known hosts in the search index (/31 subnet recommended!)</label>
          </div>
        </fieldset>
      </fieldset>

      <fieldset class="formGroup">
        <legend>Subnet</legend>
        <fieldset class="formSection">
          <legend>Only the given Host(s)</legend>
          <input type="radio" name="subnet" value="31" id="subnetHosts31"/>
          <label for="subnetHosts31">&hellip;/31</label>
        </fieldset>
        <fieldset class="formSection">
          <legend>254 addresses</legend>
          <input type="radio" name="subnet" value="24" id="subnetHosts24"/>
          <label for="subnetHosts24">&hellip;/24</label>
        </fieldset>
        <fieldset class="formSection">
          <legend>65024 adresses</legend>
          <input type="radio" name="subnet" value="16" id="subnetHosts16"/>
          <label for="subnetHosts16">&hellip;/16</label>
        </fieldset>
      </fieldset>

      <fieldset class="formGroup">
        <legend>Time-Out</legend>
        <fieldset class="formSection">
          <legend>Milliseconds</legend>
          <div class="content">
            <label for="timeoutMs">Time-Out after</label>
            <input type="text" name="timeout" id="timeoutMs" #(intranetHint)#value="200" placeholder="200"::value="3000" placeholder="3000"#(/intranetHint)# maxlength="4" class="spinner" data-min="0"/> ms
            <div class="formHint hidden">
              <p class="error" data-id="range">
                Please enter a value greater than <code>-1</code>.
              </p>
              <p class="error" data-id="invalid">
                Please enter only digits (<code>0&mdash;9</code>).
              </p>
              <p class="warning">
                Using the default value (<code>#(intranetHint)#200::3000#(/intranetHint)#</code>).
              </p>
            </div>
          </div>
        </fieldset>
      </fieldset>

      <fieldset class="formGroup">
        <legend>Scan Cache</legend>
        <fieldset class="formSection">
          <legend>Accumulate</legend>
          <div class="content">
            <input type="checkbox" name="accumulatescancache" id="accumulateScanCache" checked="checked" />
            <label for="accumulateScanCache">accumulate scan results with access type <em>granted</em> into scan cache (do not delete old scan result)</label>
          </div>
        </fieldset>
      </fieldset>

      <fieldset class="formGroup">
        <legend>Service Types</legend>
        <fieldset class="formSection">
          <legend>Services</legend>
          <div class="content">
            <p>
              <input type="checkbox" id="scanFtp" name="scanftp" checked="checked" />
              <label for="scanFtp"><abbr title="File transfer protocol">ftp</abbr></label>
            </p>
            <p>
              <input type="checkbox" name="scansmb" id="scanSmb" checked="checked" />
              <label for="scanSmb"><abbr title="Server Message Block">smb</abbr></label>
            </p>
            <p>
              <input type="checkbox" name="scanhttp" id="scanHttp"/>
              <label for="scanHttp"><abbr title="Hypertext Transfer Protocol">http</abbr></label>
            </p>
            <p>
              <input type="checkbox" name="scanhttps" id="scanHttps"/>
              <label for="scanHttps"><abbr title="Hypertext Transfer Protocol Secure">https</abbr></label>
            </p>
          </div>
        </fieldset>
      </fieldset>

      <fieldset class="formGroup">
        <legend>Scheduler</legend>
        <fieldset class="formSection">
          <legend>Only once</legend>
          <div class="content">
            <input type="radio" name="rescan" id="scheduleOnce" value="off" #(rescanCheck)#checked="checked"::#(/rescanCheck)#/>
            <label for="scheduleOnce">run only a scan</label>
          </div>
        </fieldset>
        <fieldset class="formSection">
          <legend>Timed rescan</legend>
          <div class="content">
            <input type="radio" name="rescan" value="scheduler" id="scheduleUse" #(rescanCheck)#::checked="checked"#(/rescanCheck)# />
            <label for="scheduleUse">scan and add all sites with <em>granted</em> access automatically. This disables the scan cache accumulation.</label>
            Look every
            <select name="repeat_time" data-toggle-id="scheduleUse">
             <option value="1">1</option><option value="2">2</option><option value="3">3</option>
             <option value="4">4</option><option value="5">5</option><option value="6">6</option>
             <option value="7" selected="selected">7</option><option value="8">8</option>
             <option value="9">9</option><option value="10">10</option>
             <option value="12">12</option><option value="14">14</option><option value="15">15</option>
             <option value="21">21</option><option value="28">28</option><option value="30">30</option>
           </select>
           <select name="repeat_unit" data-toggle-id="scheduleUse">
             <option value="selminutes">minutes</option>
             <option value="selhours">hours</option>
             <option value="seldays" selected="selected">days</option>
           </select> again and add new sites automatically to indexer.
           Sites that do not appear during a scheduled scan period will be excluded from search results.
         </div>
       </fieldset>
     </fieldset>

     <fieldset class="formControl">
      <div id="ycu-error-count" class="description hiddden"></div>
      <div class="content">
        <button type="submit" id="submitScan" name="scan" class="submitready icon-run primary">Start Scan</button>
        <div class="info blink" id="scanHostInfo"></div>
      </div>
    </fieldset>
  </fieldset>
</form>

<a name="#serverScannerList"></a>
<iframe src="/ServerScannerList.html?embedded=&amp;edit=" class="autoSize"></iframe>

#%env/templates/page-end.template%#
</body>
</html>
