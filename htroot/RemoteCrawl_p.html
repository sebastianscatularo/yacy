<!DOCTYPE html>
<html lang="en">
<head>
  <title>YaCy '#[clientname]#': Remote Crawl Configuration</title>
  #%env/templates/header-backend.template%#
  <script type="text/javascript" src="/js/yaml/pages/remoteCrawl.js"></script>
</head>

<body id="remoteCrawl">
  #%env/templates/page-start.template%#

  <div id="devInfo">
    status: valid html5
  </div>

  <h1>Remote Crawler</h1>
  <p>
    The remote crawler is a process that requests urls from other peers.
    Peers offer remote-crawl urls if the flag <code>Do Remote Indexing</code> is switched on when a crawl is started.
  </p>

  <form method="post" action="RemoteCrawl_p.html" enctype="multipart/form-data" accept-charset="UTF-8">
    <fieldset>
      <legend>Remote Crawler Configuration</legend>
      #(disabled)#::
      <div class="description">
        <p class="error">
          <s class="sym sym-error"></s>
          Your peer cannot accept remote crawls because you need senior or principal peer status for that!
        </p>
      </div>
      #(/disabled)#
      <fieldset class="formSection">
        <legend>Accept Remote Crawl Requests</legend>
        <div class="content">
          <input type="checkbox" #(disabled)#::disabled="disabled"#(/disabled)# id="crawlResponse" name="crawlResponse" onclick="window.location.href='RemoteCrawl_p.html?#(crawlResponse)#crawlResponse=on::crawlResponse=off#(/crawlResponse)#'" #(crawlResponse)#::checked="checked" #(/crawlResponse)#/>
          <label for="crawlResponse">Perform web indexing upon request of another peer.</label>
        </div>
      </fieldset>
      <fieldset class="formSection">
        <legend>Load Maximum</legend>
        <div class="content">
          Load with a maximum of <input id="acceptCrawlLimit" name="acceptCrawlLimit" type="text" maxlength="4" data-min="1" data-max="9999" value="#[acceptCrawlLimit]#" class="spinner"/> pages per minute
          <div class="formHint hidden">
            <p class="error" data-id="range">
              Please enter a value between <code>1&mdash;999</code>.
            </p>
            <p class="error" data-id="empty">
              Please enter a value between <code>1&mdash;999</code>.
            </p>
          </div>
        </div>
      </fieldset>
      <fieldset class="formControl">
        <div id="ycuErrorCount" class="description hiddden"></div>
        <div class="description">
          <p>
            <s class="sym sym-hint"></s>
            Crawl results will appear in the <a href="CrawlResults.html?process=6">Crawl Result Monitor</a>
          </p>
        </div>
        <div class="content">
          <button type="submit" id="submitSave" name="save" class="primary icon-run">Save</button>
        </div>
      </fieldset>
    </fieldset>
  </form>

  <h2>Peers offering remote crawl URLs</h2>
  <p>
    If the remote crawl option is switched on, then this peer will load URLs from the following remote peers:
  </p>
  <table class="sortable">
    <thead>
      <tr>
        <th><strong>Name</strong><br/></th>
        <th><strong>URLs for<br/>Remote<br/>Crawl</strong></th>
        <th><strong>Release</strong></th>
        <th><strong>PPM</strong></th>
        <th><strong>QPH</strong></th>
        <th><strong>Last<br/>Seen</strong></th>
        <th><strong>UTC</strong><br/>Offset</th>
        <th style="width:70px;"><strong>Uptime</strong></th>
        <th><strong>Links</strong></th>
        <th><strong>RWIs</strong></th>
        <th><strong>Age</strong></th>
      </tr>
    </thead>
    <tbody>
      #{list}#
      <tr class="TableCell#(dark)#Light::Dark::Summary#(/dark)#">
        <td><a href="http://www.#[fullname]#.yacy">#[shortname]#</a></td>
        <td>#[RCount]#</td>
        <td>#[version]#</td>
        <td>#[ppm]#</td>
        <td>#[qph]#</td>
        <td>#[lastSeen]#</td>
        <td>#[utc]#</td>
        <td>#[uptime]#</td>
        <td>#[LCount]#</td>
        <td>#[ICount]#</td>
        <td>#[age]#</td>
      </tr>
      #{/list}#
    </tbody>
  </table>
  #%env/templates/page-end.template%#
</body>
</html>