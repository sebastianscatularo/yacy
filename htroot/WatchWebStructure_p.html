<!DOCTYPE html>
<html lang="en">
<head>
  <title>YaCy '#[clientname]#': Web Structure</title>
  #%env/templates/header-backend.template%#
  <link rel="stylesheet" media="screen" type="text/css" href="/js/yaml/minicolors/jquery.minicolors.css" />
  <script type="text/javascript" src="/js/yaml/minicolors/jquery.minicolors.min.js"></script>
  <script type="text/javascript" src="/js/yaml/pages/watchWebStructure.js"></script>
</head>

<body id="watchWebStructure">
  #%env/templates/page-start.template%#

  <div id="api">
    <img src="env/grafics/api.png" class="api" alt="API" />
    <div>
      The data that is visualized here can also be retrieved in a <a href="/api/webstructure.xml?about=#[besthost]#">XML file</a>, which lists the reference relation between the domains.
      With a GET-property 'about' you get only reference relations about the host that you give in the argument field for 'about'.
      With a GET-property 'latest' you get a list of references that had been computed during the current run-time of YaCy, and with each next call only an update to the next list of references.
      Click the API icon to see the XML file.
      To see a list of all APIs, please visit the <a href="http://www.yacy-websuche.de/wiki/index.php/Dev:API">API wiki page</a>.
    </div>
  </div>

  <div id="devInfo" data-done="html5 script"></div>

  <h1>Web Structure</h1>
  #(hosts)#::
  <fieldset>
    <legend>Host List</legend>
    #{list}#
    <div style="float:left; padding:1px 5px 1px 5px;">
      <div style="width:160px; text-align:left; float: left; white-space:nowrap; overflow:hidden;"><a href="/WatchWebStructure_p.html?host=#[host]#&depth=3&time=1000">#[host]#</a></div>
      <div style="width:80px; text-align:right; float: left; white-space:nowrap; overflow:hidden;">#[count]# outlinks</div>
    </div>
    #{/list}#
  </fieldset>
  #(/hosts)#
  <form action="/WatchWebStructure_p.html" id="configForm" accept-charset="UTF-8">
    <fieldset>
      <legend>Settings</legend>
      <fieldset class="formSection">
        <legend>Host</legend>
        <div class="content">
          <input type="text" value="#[host]#" placeholder="#[host]#" name="host" id="host" maxlength="80" data-param="true"/>
        </div>
      </fieldset>
      <fieldset class="formSection">
        <legend>Depth</legend>
        <div class="content">
          <input type="text" name="depth" id="depth" value="#[depth]#" maxlength="1" class="spinner" data-min="0" data-param="true"/>
          <div class="formHint hidden">
            <p class="error">
              Please enter a number between <code>0&mdash;9</code>.
            </p>
          </div>
        </div>
      </fieldset>
      <fieldset class="formSection">
        <legend>Nodes</legend>
        <div class="content">
          <input type="text" name="nodes" id="nodes" value="#[nodes]#" maxlength="4" class="spinner" data-param="true"/>
          <div class="formHint hidden">
            <p class="error">
              Please enter a number between <code>0&mdash;9999</code>.
            </p>
          </div>
        </div>
      </fieldset>
      <fieldset class="formSection">
        <legend>Time</legend>
        <div class="content">
          <input type="text" name="time" id="time" value="#[time]#" data-min="0" maxlength="4" class="spinner" data-param="true"/>
          <div class="formHint hidden">
            <p class="error">
              Please enter a number between <code>0&mdash;9999</code>.
            </p>
          </div>
        </div>
      </fieldset>
      <fieldset class="formGroup collapsible">
        <legend>Layout</legend>
        <fieldset class="formSection">
          <legend>Size</legend>
          <div class="content">
            Width: <input type="text" name="width" id="width" value="#[width]#" maxlength="5" data-param="true" class="spinner"/>
            <div class="formHint hidden">
              <p class="error">
                Please enter only digits (<code>0&mdash;9</code>).
              </p>
            </div>
            Height: <input type="text" name="height" id="height" value="#[height]#" maxlength="5" data-param="true" class="spinner"/>
            <div class="formHint hidden">
              <p class="error">
                Please enter only digits (<code>0&mdash;9</code>).
              </p>
            </div>
          </div>
        </fieldset>
        <fieldset class="formSection">
          <legend>Background color</legend>
          <div class="content">
            <input type="text" name="colorback" id="colorback" value="#[colorback]#" maxlength="6" data-param="true"/>
          </div>
        </fieldset>
        <fieldset class="formSection">
          <legend>Text color</legend>
          <div class="content">
            <input type="text" name="colortext" id="colortext" value="#[colortext]#" maxlength="6" data-param="true"/>
          </div>
        </fieldset>
        <fieldset class="formSection">
          <legend>Line color</legend>
          <div class="content">
            <input type="text" name="colorline" id="colorline" value="#[colorline]#" maxlength="6" data-param="true"/>
          </div>
        </fieldset>
        <fieldset class="formSection">
          <legend>Pivot Dot color</legend>
          <div class="content">
            <input type="text" name="colordot0" id="colordot0" value="#[colordot0]#" maxlength="6" data-param="true"/>
          </div>
        </fieldset>
        <fieldset class="formSection">
          <legend>Other Dot color</legend>
          <div class="content">
            <input type="text" name="colordota" id="colordota" value="#[colordota]#" maxlength="6" data-param="true"/>
          </div>
        </fieldset>
        <fieldset class="formSection">
          <legend>Dot End color</legend>
          <div class="content">
            <input type="text" name="colorlineend" id="colorlineend" value="#[colorlineend]#" maxlength="6" data-param="true"/>
          </div>
        </fieldset>
      </fieldset>
    </fieldset>
  </form>

  <div style="max-width:100%;" class="border">
    <img id="webPicture" src="WebStructurePicture_p.png?host=#[besthost]#&amp;depth=#[depth]#&amp;width=#[width]#&amp;height=#[height]#&amp;nodes=#[nodes]#&amp;time=#[time]#&amp;colortext=#[colortext]#&amp;colorback=#[colorback]#&amp;colordot0=#[colordot0]#&amp;colordota=#[colordota]#&amp;colorline=#[colorline]#&amp;colorlineend=#[colorlineend]#" alt="WebStructurePicture" style="width:100%; height:auto;"/>
  </div>

  #%env/templates/page-end.template%#
</body>
</html>
