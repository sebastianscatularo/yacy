<!DOCTYPE html>
<html lang="en">
<head>
  <title>YaCy '#[clientname]#': YaCy Search Network</title>
  #%env/templates/header-backend.template%#
  <script type="text/javascript" src="/js/yaml/tablesorter/jquery.tablesorter.min.js"></script>
  <script type="text/javascript">
  <!--
  imagestub = "NetworkPicture.png?width=1024&height=720&bgcolor=FFFFFF&ct=15000&coronaangle=";
  imageanimindex = 0;
  imageloadindex = 0;
  imagecycles = 0;
  imagearray = new Array(6);
  setTimeout("initanimation()", 100);
  setTimeout("doanimation()", 1000);
  function initanimation() {
    handle = new Date().getTime();
    for (j = 0; j < 6; j++) initanimationphase(j, handle);
  }
function initanimationphase(phase, handle) {
  imagearray[phase] = new Image(1024, 720);
  angle = phase * 60;
  imagearray[phase].src = imagestub + angle + "&handle=" + handle;
}
function doanimation() {
  var networkPicture = document.getElementById("NetworkPicture");
  if (networkPicture != null) {
    networkPicture.src = imagearray[imageanimindex].src;
    imageanimindex++;
    if (imageanimindex == 6) { imageanimindex = 0; }
    imagecycles++;
    if (imagecycles == 25) {
      initanimationphase(imageloadindex, new Date().getTime());
      imageloadindex++;
      if (imageloadindex == 6) { imageloadindex = 0; }
      imagecycles = 0;
    }
    setTimeout("doanimation()", 100);
  }
}
-->
</script>
</head>

<body id="network">
  #(menu)#::
  #%env/templates/page-start-inline.template%#
  ::
  #%env/templates/page-start.template%#
  #(/menu)#

  <div id="api">
    <img src="/env/grafics/api.png" width="60" height="40" alt="API"/>
    <div>
      The information that is presented on this page can also be retrieved as
      <script type="text/javascript">
        //<![CDATA[
        document.write('<a href="Network.xml?' + window.location.search.substring(1) + '">XML</a>');
        //]]>
      </script>.
      Click on the link above to see the <abbr>XML</abbr>.
      To see a list of all APIs, please visit the <a href="http://www.yacy-websuche.de/wiki/index.php/Dev:API">API wiki page</a>.
    </div>
  </div>

  #(page)#
  <h1>YaCy Search Network '#[networkName]#'</h1>
  ::
  <h1>Active Peers in '#[networkName]#' Network</h1>
  ::
  <h1>Passive Peers in '#[networkName]#' Network</h1>
  ::
  <h1>Potential Peers in '#[networkName]#' Network</h1>
  ::
  <h1>Manually contacting Peer</h1>
  #(/page)#

  #(regexerror)#::
  <p class="ycu-message ycu-message-error">
    Unable to execute query. <code>#[wrongregex]#</code> is no valid regular expression, please enter a valid regular expression to search for a peername.
  </p>
  #(/regexerror)#

  #(table)#
  <p class="ycu-message ycu-message-info">
    No remote #[peertype]# peer for this list known.
  </p>
  ::
  <h2>Peer Search</h2>
  <form action="Network.html?page=#[page]#" method="get" enctype="multipart/form-data" accept-charset="UTF-8">
    <fieldset>
      <legend>Search</legend>
      <fieldset class="formSection">
        <legend>Peer name</legend>
        <div class="content">
          <input type="text" id="match" name="match" value="#[searchpattern]#" />
          <div class="formHint hidden">
            <p class="help">
              Please enter a peer name to search for. Regular expressions are allowed.
            </p>
          </div>
        </div>
      </fieldset>
      <fieldset class="formControl">
        <div class="content">
          <button type="submit" name="search" class="primary icon-search">Search</button>
        </div>
      </fieldset>
      <input type="hidden" name="page" value="#[page]#" />
    </fieldset>
  </form>

  <h2>Listing: #[num]# entries from a total of #[total]# peers</h2>
  <table class="sortable">
    <thead>
      <tr>
        <th>Name </th>
        <th class="noSort">Info </th>
        <th>Release</th>
        <th>PPM</th>
        <th>QPH</th>
        <th>Last Seen</th>
        <th>UTC Offset</th>
        <th>Location </th>
        <th>Uptime</th>
        <th>Links</th>
        <th>RWIs</th>
        <th>URLs for Remote Crawl</th>
        <th>Sent DHT Word Chunks</th>
        <th>Sent URLs</th>
        <th>Received DHT Word Chunks</th>
        <th>Received URLs</th>
        #(complete)#::
        <th>Address</th>
        <th>Hash</th>
        <th>Age</th>
        <th>#Seeds</th>
        <th>con/h </th>
        <th>user agent </th>
        <th>Peer Ping</th>
        #(/complete)#
      </tr>
    </thead>
    <tbody>
      #{list}#
      <tr>
        <td #(special)#::class="TableCellActive"#(/special)#>
          <span class="nobr">
            <a href="http://www.#[fullname]#.yacy" class="noExt">#[shortname]#</a>
            #(ssl)#::&nbsp;<i class="fa fa-lock" title="SSL supported"></i>#(/ssl)#
            #(isCrawling)#::&nbsp;<i class="fa fa-cogs></i>"#(/isCrawling)#
          </span>
          <br/>
          <span class="nobr">
            <a href="MessageSend_p.html?hash=#[hash]#" title="Send message to peer #[fullname]#" class="iconic"><i class="fa fa-envelope"></i></a>
            <a href="ViewProfile.html?hash=#[hash]#&amp;display=1" title="View profile of peer #[fullname]##(updatedProfile)#:: (updated)#(/updatedProfile)#" class="iconic#(updatedProfile)#:: updated#(/updatedProfile)#"><i class="fa fa-user"></i></a>
            <a href="http://#[fullname]#.yacy/Wiki.html" title="Read and edit wiki on peer #[fullname]##(updatedWiki)#:: (updated)#(/updatedWiki)#" class="iconic noExt#(updatedWiki)#:: updated#(/updatedWiki)#"><i class="fa fa-comment"></i></a>
            <a href="http://#[fullname]#.yacy/Blog.html" title="Browse blog of peer #[fullname]# #(updatedBlog)#::(updated)#(/updatedBlog)#" class="iconic noExt#(updatedBlog)#:: updated#(/updatedBlog)#"><i class="fa fa-th-list"></i></a>
          </span>
        </td>
        <td>
          <span class="extNodeInfo">
            #(type)#
            <span class="nodeInfo">
              #(direct)#
              Junior (passive)
              ::
              Junior (direct)
              ::
              Junior (offline)
              #(/direct)#
            </span>
            ::
            <span class="nodeInfo">
              #(direct)#
              Senior (passive)
              ::
              Senior (direct)
              ::
              Senior (offline)
              #(/direct)#
            </span>
            ::
            <a href="#[url]#" class="noExt">
              #(direct)#
              <span class="nodeInfo">Principal (passive)</span>
              <span class="nodeInfo">Seed download possible</span>
              ::
              <span class="nodeInfo">Principal (direct)</span>
              <span class="nodeInfo">Seed download possible</span>
              ::
              <span class="nodeInfo">Principal (offline)</span>
              <span class="nodeInfo">Seed download unknown</span>
              #(/direct)#
            </a>
            #(/type)#
            <span class="nodeInfo">
              #(acceptcrawl)#::
              Accept Crawl: yes
              ::
              Accept Crawl: yes
              #(/acceptcrawl)#
            </span>
            <span class="nodeInfo">
              #(dhtreceive)#
              DHT Receive: no<br/>#[peertags]#
              ::
              DHT Receive: yes
              ::
              DHT Receive: yes
              #(/dhtreceive)#
            </span>
            <span class="nodeInfo">
              #(nodestate)#::
              <a href="http://#[ip]#:#[port]#/Network.html?page=1" class="noExt">
                Node Candidate
              </a>
              #(/nodestate)#
            </span>
          </span>
        </td>
        <td align="right">#[version]#</td>
        <td align="right">#[ppm]#</td>
        <td align="right">#[qph]#</td>
        <td align="right">#[lastSeen]#</td>
        <td align="right">#[utc]#</td>
        <td align="right">#[location]#</td>
        <td align="right" nowrap>#[uptime]#</td>
        <td align="right">#[LCount]#</td>
        <td align="right">#[ICount]#</td>
        <td align="right">#[RCount]#</td>
        <td align="right">#[sI]#</td>
        <td align="right">#[sU]#</td>
        <td align="right">#[rI]#</td>
        <td align="right">#[rU]#</td>
        #(complete)#
        ::
        <td><a href="http://#[ip]#:#[port]#/Network.html?page=1&amp;ip=">http://#[ip]#:#[port]#</a></td>
        <td >#[hash]#</td>
        <td >#[age]#</td>
        <td align="right">#[seeds]#</td>
        <td align="right">#[connects]#</td>
        <td align="right">#[userAgent]#</td>
        <td align="right">[<a href="Network.html?page=4&amp;peerHash=#[hash]#&amp;peerIP=#[ip]#&amp;peerPort=#[port]#&amp;addPeer=add+Peer">Ping</a>]</td>
        #(/complete)#
      </tr>
      #{/list}#
    </tbody>
  </table>
  <p>
    <em>runtime: #[rt]# ms</em>
  </p>
  ::
  <div>
    <table>
      <tr class="TableHeader">
        <td rowspan="5" class="TableHeader" width="10%">Network</td>
        <td colspan="#(active-switch)#2::3::4::5::6#(/active-switch)#" width="22%">Online Peers</td>
        <td rowspan="2" width="22%">Number of<br/>Documents</td>
        <td rowspan="2" width="22%">Indexing Speed:<br/>Pages Per Minute (PPM)</td>
        <td rowspan="2" width="22%">Query Frequency:<br/>Queries Per Hour (QPH)</td>
      </tr>
      <tr class="TableHeader">
        #(active-switch)#::
        <td>Last Hour</td>::
        <td>Today</td><td>Last Hour</td>::
        <td>Last&nbsp;Week</td><td>Today</td><td>Last Hour</td>::
        <td>Last&nbsp;Month</td><td>Last&nbsp;Week</td><td>Today</td><td>Last Hour</td>
        #(/active-switch)#
        <td colspan="2">Now</td>
      </tr>
      <tr class="TableCellDark">
        #(active-switch)#::
        <td align="right" rowspan="3">#[last-hour]#</td>::
        <td align="right" rowspan="3">#[last-day]#</td><td align="right" rowspan="3">#[last-hour]#</td>::
        <td align="right" rowspan="3">#[last-week]#</td><td align="right" rowspan="3">#[last-day]#</td><td align="right" rowspan="3">#[last-hour]#</td>::
        <td align="right" rowspan="3">#[last-month]#</td><td align="right" rowspan="3">#[last-week]#</td><td align="right" rowspan="3">#[last-day]#</td><td align="right" rowspan="3">#[last-hour]#</td>
        #(/active-switch)#
        <td align="left">Active</td>
        <td align="right">#[active-count]#</td>
        <td align="right">#[active-links]#</td>
        <td align="right" rowspan="3">#[gppm]#</td>
        <td align="right" rowspan="3">#[gqph]#</td>
      </tr>
      <tr class="TableCellDark">
        <td align="left">Passive</td>
        <td align="right">#[passive-count]#</td>
        <td align="right">#[passive-links]#</td>
      </tr>
      <tr class="TableCellDark">
        <td align="left">Potential</td>
        <td align="right">#[potential-count]#</td>
        <td align="right">#[potential-links]#</td>
      </tr>
      <tr class="TableCellSummary">
        <td align="left" colspan="#(active-switch)#3::4::5::6::7#(/active-switch)#">This Peer</td>
        <td align="right">#[my-LCount]#</td>
        <td align="right">#[my-ppm]#</td>
        <td align="right">#[my-qph]#</td>
      </tr>
    </table>
  </div>

  <h2>Network Picture</h2>
  <a href="NetworkPicture.png?width=1024&amp;height=720&amp;bgcolor=FFFFFF">
    <img id="NetworkPicture" src="NetworkPicture.png?width=1024&amp;height=720&amp;bgcolor=FFFFFF&amp;coronaangle=0" alt="The YaCy Network" width="1024" height="720" />
  </a>
  <table>
    <tr>
      <td style="background-color:#668877">&nbsp;</td>
      <td>dark green font</td>
      <td>:</td>
      <td>senior/principal peers</td>
    </tr>
    <tr>
      <td style="background-color:#B3CCB3">&nbsp;</td>
      <td>light green font</td>
      <td>:</td>
      <td>passive peers</td>
    </tr>
    <tr>
      <td style="background-color:#CCB3B3">&nbsp;</td>
      <td>pink font</td>
      <td>:</td>
      <td>junior peers</td>
    </tr>
    <tr>
      <td style="background-color:#BE6F4F">&nbsp;</td>
      <td>red point</td>
      <td>:</td>
      <td>this peer</td>
    </tr>
    <tr>
      <td style="background-color:#AAAAAA">&nbsp;</td>
      <td>grey waves</td>
      <td>:</td>
      <td>crawling activity</td>
    </tr>
    <tr>
      <td style="background-color:#66FF66">&nbsp;</td>
      <td>green radiation</td>
      <td>:</td>
      <td>strong query activity</td>
    </tr>
    <tr>
      <td style="background-color:#FF6666">&nbsp;</td>
      <td>red lines</td>
      <td>:</td>
      <td>DHT-out</td>
    </tr>
    <tr>
      <td style="background-color:#44FF44">&nbsp;</td>
      <td>green lines</td>
      <td>:</td>
      <td>DHT-in</td>
    </tr>
  </table>

  <h2>Your Peer</h2>
  <table>
    <thead>
      <tr>
        <th colspan="2">Peer Info</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Name</td>
        <td>
          #[my-name]##(my-ssl)#::&nbsp;<i class="fa fa-lock" title="SSL supported"></i>#(/my-ssl)#
        </td>
      </tr>
      <tr>
        <td>Type</td>
        <td>
          <em>
            #(my-info)#<!-- virgin -->
            Virgin
            ::<!-- junior -->
            Junior
            ::<!-- senior -->
            Senior
            ::<!-- principal -->
            Principal
            #(/my-info)#
          </em>
        </td>
      </tr>
      <tr>
        <td>Uptime</td>
        <td>#[my-uptime]#</td>
      </tr>
      <tr>
        <td>Version</td>
        <td>#[my-version]#</td>
      </tr>
      <tr>
        <td><abbr>UTC</abbr></td>
        <td>#[my-utc]#</td>
      </tr>
    </tbody>
  </table>
  <table>
    <thead>
      <tr>
        <th colspan="2">Configuration</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Accept remote crawls</td>
        <td>
          #(my-acceptcrawl)#no::yes#(/my-acceptcrawl)#
        </td>
      </tr>
      <tr>
        <td>Receive <abbr>DHT</abbr></td>
        <td>
          #(my-dhtreceive)#disabled::enabled#(/my-dhtreceive)#
        </td>
      </tr>
      <tr>
        <td>Node candidate</td>
        <td>
          #(my-nodestate)#no::yes#(/my-nodestate)#
        </td>
      </tr>
    </tbody>
  </table>
  <table>
    <thead>
      <tr>
        <th colspan="2">Statistics</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Links</td>
        <td>#[my-LCount]#</td>
      </tr>
      <tr>
        <td><abbr>RWIs</abbr></td>
        <td>#[my-ICount]#</td>
      </tr>
      <tr>
        <td><abbr>URLs</abbr> for remote crawls</td>
        <td>#[my-RCount]#</td>
      </tr>
      <tr>
        <td>Sent <abbr>DHT</abbr> word chunks</td>
        <td>#[my-sI]#</td>
      </tr>
      <tr>
        <td>Sent <abbr>URLs</abbr></td>
        <td>#[my-sU]#</td>
      </tr>
      <tr>
        <td>Received <abbr>DHT</abbr> word chunks</td>
        <td>#[my-rI]#</td>
      </tr>
      <tr>
        <td>Received <abbr>URLs</abbr></td>
        <td>#[my-rU]#</td>
      </tr>
      <tr>
        <td>Known seeds</td>
        <td>#[my-seeds]#</td>
      </tr>
      <tr>
        <td>Connections per hour</td>
        <td>#[my-connects]#</td>
      </tr>
      <tr>
        <td>Indexing speed</td>
        <td>#[my-ppm]# <abbr title="Pages per minute">PPM</abbr></td>
      </tr>
      <tr>
        <td>Queries per hour (public &nbsp; local)</td>
        <td>#[my-qph-publocal]#</td>
      </tr>
      <tr>
        <td>Queries per hour (remote)</td>
        <td>#[my-qph-pubremote]#</td>
      </tr>
    </tbody>
  </table>
  ::
  #(comment)#
  ::
  <p style="color:red;">
    <code>#[status]#</code>
  </p>
  ::
  <p style="color:green">
    <code>#[status]#</code>
  </p>
  <p style="color:green;">
    <code>#[details]#</code>
  </p>
  #(/comment)#

  <form action="Network.html" method="get" accept-charset="UTF-8">
    <table>
      <tr>
        <td>Peer Hash</td>
        <td><input name="peerHash" type="text" size="32" maxlength="128" value="#[peerHash]#" /></td>
      </tr>
      <tr>
        <td>Peer IP</td>
        <td><input name="peerIP" type="text" size="32" maxlength="128" value="#[peerIP]#" /></td>
      </tr>
      <tr>
        <td>Peer Port</td>
        <td><input name="peerPort" type="text" size="32" maxlength="128" value="#[peerPort]#" /></td>
      </tr>
      <tr>
        <td>&nbsp;<input name="page" type="hidden" value="4" /></td>
        <td><input type="submit" name="addPeer" value="add Peer" /></td>
      </tr>
    </table>
  </form>

  <p>&nbsp;</p>

  Contacting current peer from another:
  <table>
    <tr>
      <td>ip:port</td>
      <td><input id="otherPeerAddress" type="text" size="32" maxlength="128" value=":8090" /></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td><input type="button" value="contact current peer from this peer" onclick="top.location.href='http://' + document.getElementById('otherPeerAddress').value + '/Network.html?peerHash=#[my-hash]#&peerIP=#[my-ip]#&peerPort=#[my-port]#&page=4&addPeer=add+Peer'"/></td>
    </tr>
  </table>
  #(/table)#
  #(menu)#::
  #%env/templates/page-end-inline.template%#
  ::
  #%env/templates/page-end.template%#
  #(/menu)#
</body>
</html>
