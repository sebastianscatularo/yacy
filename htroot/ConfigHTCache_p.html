<!DOCTYPE html>
<html lang="en">
<head>
  <title>YaCy '#[clientname]#': Hypertext Cache Configuration</title>
  #%env/templates/header-backend.template%#
</head>

<body id="configHTCache">
  #%env/templates/page-start.template%#

  <h1>Hypertext Cache Configuration</h1>
  <p>
    The HTCache stores content retrieved by the <abbr>HTTP</abbr> and <abbr>FTP</abbr> protocol. Documents from <code>smb://</code> and <code>file://</code> locations are not cached.
  </p>

  <form action="ConfigHTCache_p.html" method="post" enctype="multipart/form-data" accept-charset="UTF-8">
    <fieldset>
      <legend>HTCache Configuration</legend>
      <div class="description">
        <p>
          The cache is a rotating cache: if it gets full, then the oldest entries are deleted and new one can fill the available space.
        </p>
      </div>
      <fieldset class="formSection">
        <legend>Storage path</legend>
        <div class="content">
          <input name="HTCachePath" type="text" maxlength="300" value="#[HTCachePath]#" />
        </div>
      </fieldset>
      <fieldset class="formSection">
        <legend>Current size</legend>
        <div class="content">
          #[actualCacheSize]# MB for #[actualCacheDocCount]# files, #[docSizeAverage]# KB / file in average.
        </div>
      </fieldset>
      <fieldset class="formSection">
        <legend>Maximum size</legend>
        <div class="content">
          <input name="maxCacheSize" type="text" maxlength="24" value="#[maxCacheSize]#" class="spinner"/> MB
        </div>
      </fieldset>

      <fieldset class="formControl" data-id="formControl">
        <div class="content">
          <button type="submit" name="set" class="primary icon-run">Save</button>
        </div>
      </fieldset>
    </fieldset>
  </form>

  <form action="ConfigHTCache_p.html" method="post" enctype="multipart/form-data" accept-charset="UTF-8">
    <fieldset>
      <legend>Cleanup</legend>
      <fieldset class="formSection">
        <legend>Cache deletion</legend>
        <div class="content">
          <p>
            <input type="checkbox" name="deleteCache" id="deleteCache"
            onclick="$(this).closest('fieldset').find('input').prop('disabled',!$(this).is(':checked'));$(this).prop('disabled',false);"
            />
            <label for="deleteCache">Delete HTTP &amp; FTP Cache</label>
          </p>
          <p>
            <input type="checkbox" name="deleteRobots" id="deleteRobots" disabled="disabled" />
            <label for="deleteRobots">Delete robots.txt Cache</label>
          </p>
          <p>
            <input type="checkbox" name="deleteSearchFl" id="deleteSearchFl" disabled="disabled" />
            <label for="deleteSearchFl">Delete cached snippet-fetching failures during search</label>
          </p>
        </div>
      </fieldset>
      <fieldset class="formControl" data-id="formControl">
        <div class="content">
          <button type="submit" name="deletecomplete" class="primary icon-delete">Delete</button>
        </div>
      </fieldset>
    </fieldset>
  </form>

  #%env/templates/page-end.template%#
</body>
</html>
