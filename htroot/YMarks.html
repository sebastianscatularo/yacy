<!DOCTYPE html>
<html lang="en">
<head>
	<title>YaCy Bookmarks</title>
	#%env/templates/header-backend.template%#
	<link media="screen" type="text/css" href="/jquery/flexigrid/css/flexigrid.pack.css" rel="stylesheet" />
	<script src="/jquery/flexigrid/js/flexigrid.pack.js" type="text/javascript"></script>

	<link media="screen" type="text/css" href="/jquery/css/jquery.multiselect.css" rel="stylesheet" />
	<script src="/jquery/js/jquery.multiselect.min.js" type="text/javascript"></script>

	<link media="screen" type="text/css" href="/jquery/css/jquery.tagsinput.css" rel="stylesheet" />
	<script src="/jquery/js/jquery.tagsinput.min.js" type="text/javascript"></script>

	<link media="screen" type="text/css" href="/jquery/css/jquery.multiselect.filter.css" rel="stylesheet" />
	<script src="/jquery/js/jquery.multiselect.filter.min.js" type="text/javascript"></script>

	<link media="screen" type="text/css" href="/yacy/ui/css/jquery.treeview.css" rel="stylesheet" />
	<script src="/yacy/ui/js/jquery.treeview.min.js" type="text/javascript"></script>
	<script src="/yacy/ui/js/jquery.treeview.async.js" type="text/javascript"></script>

	<link media="screen" type="text/css" href="/env/yacy-ymarks.css" rel="stylesheet" />
	<script src="/js/yacy-ymarks.js" type="text/javascript"></script>
	<script src="/js/yacy-ymarks-bookmark-actions.js" type="text/javascript"></script>
	<script src="/js/yacy-ymarks-tag-actions.js" type="text/javascript"></script>
</head>

<body id="yMarks">
	#%env/templates/page-start.template%#

	<div id="devInfo" data-todo="all"></div>

	<div id="api">
		<img class="api" src="/env/grafics/api.png" alt="API"/>
		<div>
			The information that is presented on this page can also be retrieved as <a class="api" href="/api/table_p.xml?table=admin_bookmarks&count=100&search=">XML</a>.
			To see a list of all APIs, please visit the <a href="http://www.yacy-websuche.de/wiki/index.php/Dev:API">API wiki page</a>.
		</div>
	</div>

	<h1>Bookmarks <em>(user: #[user]# size: #[size]#)</em></h1>
	<ul>
		<li><a href="#ymarks_nav_tab" title="navigation"><span>Explorer</span></a></li>
		<li><a href="#ymarks_tags_tab" title="tags"><span>Tag Manager</span></a></li>
		<li><a href="#ymarks_import_tab" title="import"><span>Import</span></a></li>
	</ul>

	<div id="ymarks_sidebar" class="sidebar" style="overflow: auto;">

		<div id="ymarks_nav_tab">
			<div class="tagSelect">
				<p>
					<select id="tag_include" name="tag_include" multiple="multiple"></select>
				</p>
			</div>
			<div>
				<ul id="ymarks_treeview" class="filetree"></ul>
			</div>
		</div>
		<div id="ymarks_tags_tab">
			<div>
				<p id="ymarks_tagcloud"></p>
			</div>
			<hr />
			<div class="tagSelect">
				<form id="ymarks_tagmanager" action="YMarks.html" method="post"  enctype="multipart/form-data" accept-charset="UTF-8">
					<h4>Tag Manager<img title="help" alt="help" class="help" src="/yacy/ui/img-2/question_blue.png" /></h4>
					All tag actions are applied to the sub-set of bookmarks defined by this query.
					<p>
						<small>Query</small>
						<input class="input" type="text" name="query" id="query" />
						<br />
						<small>Query Type</small>
						<select id= "ymarks_qtype" name="qtype">
							<option value="_tags" selected="selected">Tags (comma seperated)</option>
							<option value="tags">Tags (regexp)</option>
							<option value="_folder">Folders (comma seperated)</option>
							<option value="folders">Folders (regexp)</option>
							<option value="title">Title (regexp)</option>
							<option value="desc">Description (regexp)</option>
						</select>
					</p>
					<hr />
					<p>
						<select id="tag_select" name="tags" multiple="multiple"></select><br />
					</p>
					<p>
						Enter tags to add (<i>replace with</i>)
						<br /><small>(comma separated tags)</small>
						<input class="input" type="text" name="replace" id="source"/>
					</p>
					<hr />
					<p style="text-align: right">
						<input type="submit" name="action" value="Replace" />
					</p>
				</form>
			</div>
		</div>
		<div id="ymarks_import_tab">
			<form action="/api/ymarks/import_ymark.html" method="post"  enctype="multipart/form-data" accept-charset="UTF-8">
				<input type="hidden" value="/YMarks.html" name="redirect">
				<h4>Bookmark Importer<img alt="help" title="If you put in your bookmarks here, you can access them anywhere where you have access to your YaCy peer. Think of it as your 'personal cloud' for bookmarking." class="help" src="/yacy/ui/img-2/question_blue.png"></h4>
				<p>
					<table cellspacing="3">
						<tr>
							<td> <input type="radio" name="importer" value="html" checked="checked" /> </td>
							<td>Netscape HTML</td>
						</tr>
						<tr>
							<td><input type="radio" name="importer" value="json" /></td>
							<td>Firefox JSON</td>
						</tr>
						<tr>
							<td><input type="radio" name="importer" value="xbel" /></td>
							<td>XBEL</td>
						</tr>
						<tr>
							<td><input type="radio" name="importer" value="surro" /></td>
							<td>Surrogate XML</td>
						</tr>
						<tr>
							<td><input type="radio" name="importer" value="dmoz" /></td>
							<td>DMOZ XML</td>
						</tr>
						<tr>
							<td><input type="radio" name="importer" value="list" disabled="disabled"/></td>
							<td>YaCy White/Black List</td>
						</tr>
						<tr>
							<td><input type="radio" name="importer" value="bmks" /></td>
							<td>YaCy bookmarks.db (admin)</td>
						</tr>
						<tr>
							<td><input type="radio" name="importer" value="crawls" /></td>
							<td>YaCy Crawl Starts (admin)</td>
						</tr>
					</table>
				</p>
				<p>
					<small>Bookmark file</small>
					<input class="input" type="file" name="bmkfile" id="bmkfile" size="8" /><br />
				</p>
				<hr />
				<h4>Folder settings<img alt="help" title="A folder structure is helpful to organize your bookmarks in a hierarchical way." class="help" src="/yacy/ui/img-2/question_blue.png"></h4>
				<p>
					<small>Source folder</small>
					<input class="input" type="text" name="source" id="source" disabled="disabled" />
				</p>
				<p>
					<small>Target folder</small>
					<input class="input" type="text" name="root" id="root" value="/Imported Bookmarks" />
				</p>
				<hr />
				<h4>Automatic tagging<img alt="help" title="Tags are words that are attached to documents as metadata. It is possible to read all the documents and find the attached tags automatically." class="help" src="/yacy/ui/img-2/question_blue.png"></h4>
				<p>
					<table cellspacing="5">
						<tr>
							<td><input type="radio" name="autotag" value="off" checked="checked" /></td>
							<td>Off</td>
						</tr>
						<tr>
							<td><input type="radio" name="autotag" value="empty" /></td>
							<td>Only for empty tags</td>
						</tr>
						<tr>
							<td><input type="radio" name="autotag" value="overwrite" /></td>
							<td>Overwriting existing tags</td>
						</tr>
						<tr>
							<td><input type="radio" name="autotag" value="merge" /></td>
							<td>Merging with existing tags</td>
						</tr>
					</table>
				</p>
				<hr />
				<h4>Automatic Indexing<img alt="help" title="While doing the bookmark import, YaCy can push all URLs to the indexing process" class="help" src="/yacy/ui/img-2/question_blue.png"></h4>
				<p>
					<table cellspacing="5">
						<tr>
							<td><input type="radio" name="indexing" value="off" checked="checked" /></td>
							<td>No indexing</td>
						</tr>
						<tr>
							<td><input type="radio" name="indexing" value="single" /></td>
							<td>Index every bookmark entry</td>
						</tr>
						<tr>
							<td><input type="radio" name="indexing" value="onelink" /></td>
							<td>Index every bookmark entry plus all directly linked pages</td>
						</tr>
						<tr>
							<td><input type="radio" name="indexing" value="fulldomain" /></td>
							<td>Index all domains from all bookmarks completely</td>
						</tr>
						<tr>
							<td><input type="checkbox" name="medialink" /></td>
							<td><br />include all media (image/movie/document) links</td>
						</tr>
					</table>
				</p>
				<hr />
				<p style="text-align: right">
					<input type="submit" name="importbookmarks" value="Import" />
				</p>
			</form>
		</div>
	</div>
	<!-- Display Bookmarks Table -->
	<div class ="main">
		<table id="ymarks_flexigrid" summary="YaCy Bookmarks">
			<tbody>
			</tbody>
		</table>
	</div>

	<!-- Bookmarks Edit Dialog -->
	<div id="ymarks_add_dialog" class="bm_dialog" title="Add & Edit Bookmark">
		<form id="bmaddform" method="post" accept-charset="UTF-8" action="jQuery">
			<table>
				<tr>
					<td>
						<img id="bmaddimg" src="/yacy/ui/img-1/Star.png" />
					</td>
					<td>
						<label for="bm_public">Public:</label>
						<br />
						<select name="public" id="bm_public" class="bm_select">
							<option value="true">yes</option>
							<option value="false">no</option>
						</select>
					</td>
				</tr>
			</table>
			<div>
				<label for="bm_url">URL:</label>
				<br />
				<input type="text" name="url" id="bm_url" class="bm_input" size="80" />
				<br />
				<label for="bm_title">Title:</label>
				<br />
				<input type="text" name="title" id="bm_title" class="bm_input" size="80" />
				<br />
				<label for="bm_desc">Description:</label>
				<br />
				<textarea name="desc" id="bm_desc" class="bm_input" rows="3" cols="20">
				</textarea>
				<br />
				<label for="bm_path">Folder (/folder/subfolder):</label>
				<br />
				<input type="text" name="folders" id="bm_path" class="bm_input" size="80" />
				<br />
				<label for="bm_tags">Tags (comma separated):</label>
				<br />
				<input type="text" name="tags" id="bm_tags" class="bm_input" size="80" />
			</div>
		</form>
	</div>
	<div id="ymarks_crawlstart" class="bm_dialog" title="Craw Start">

		<form id="ymarks_crawler" method="post" action="Crawler_p.html" enctype="multipart/form-data" accept-charset="UTF-8">
			<table cellspacing="10" cellpadding="20">
				<tr id="ymarks_crawlstart_msg"></tr>
				<tr>
					<td>Bookmark</td>
					<td>
						<input type="hidden" name="crawlingMode" id="crawlingMode" value="url" />
						<input name="crawlingURL" id="crawlingURL" type="text" size="35" maxlength="256" />

					</td>
				</tr>
				<tr>
					<td>Filter</td>
					<td>
						<input type="radio" name="range" id="rangeWide" value="wide" >No filter<br />
						<input type="hidden" id="mustmatch" type="text" value=".*" maxlength="100" size="60" name="mustmatch">


						<input type="radio" name="range" id="rangeDomain" value="domain" checked="checked"/>Restrict to start domain<br />
						<input type="radio" name="range" id="rangeSubpath" value="subpath" />Restrict to sub-path of given url

						<input type="hidden" name="mustnotmatch" id="mustnotmatch"/>
						<input type="hidden" name="crawlingDomFilterCheck" id="crawlingDomFilterCheck" value="off" />
						<input type="hidden" name="crawlingDomFilterDepth" id="crawlingDomFilterDepth" value="1" />
					</td>
					<tr>
						<tr>
							<td>Crawling Depth</td>
							<td>
								<select name="crawlingDepth">
									<option value="0">bookmark only (0)</option>
									<option value="4" selected="selected">shallow crawl (4)</option>
									<option value="8">deep crawl (8)</option>
									<option value="16">deeper crawl (16)</option>
									<option value="99">indefinite (99)</option>
								</select>
							</td>
						</tr>
						<tr>
							<td>Limitations</td>
							<td>
								<input type="checkbox" name="crawlingDomMaxCheck" id="crawlingDomMaxCheck"  /> not more than
								<input name="crawlingDomMaxPages" id="crawlingDomMaxPages" type="text" size="6" maxlength="6" value="10000" />
								documents
							</td>
							<tr>
								<tr>
									<td>Dynamic URLs</td>
									<td>
										<input type="checkbox" name="crawlingQ" id="crawlingQ"  /> allow <a href="http://en.wikipedia.org/wiki/Query_string">
										query-strings</a> (urls with a '?' in the path)
										<input type="hidden" name="storeHTCache" id="storeHTCache" value="on" />
										<input type="hidden" name="cachePolicy" id="cachePolicy" value="iffresh" />
										<input type="hidden" name="indexText" id="indexText" value="on" />
										<input type="hidden" name="indexMedia" id="indexMedia" value="on" />
										<input type="hidden" name="intention" id="intention"/>
										<input type="hidden" name="xsstopw" id="xsstopw" value="off" />
										<input type="hidden" name="xdstopw" id="xdstopw" value="off" />
										<input type="hidden" name="xpstopw" id="xpstopw" value="off" />
									</td>
									<tr>
										<tr>
											<td>Scheduler</td>
											<td>
												<input type="radio" name="recrawl" value="nodoubles" checked="checked"/>run this crawl once<br/>
												<input type="radio" name="recrawl" value="scheduler"/>scheduled, look every
												<select name="repeat_time">
													<option value="1">1</option><option value="2">2</option><option value="3">3</option>
													<option value="4">4</option><option value="5">5</option><option value="6">6</option>
													<option value="7" selected="selected">7</option>
													<option value="8">8</option><option value="9">9</option><option value="10">10</option>
													<option value="12">12</option><option value="14">14</option><option value="21">21</option>
													<option value="28">28</option><option value="30">30</option>
												</select>
												<select name="repeat_unit">
													<option value="selminutes">minutes</option>
													<option value="selhours">hours</option>
													<option value="seldays" selected="selected">days</option>
												</select>
												<br />
												&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for new documents automatically.
											</td>
										</tr>
									</table>
									<input type="hidden" value="Start New Crawl" name="crawlingstart">
								</form>
							</div>
							#%env/templates/page-end.template%#
						</body>
						</html>