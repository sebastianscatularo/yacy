<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>#[former]# - YaCy '#[clientname]#': Search Page</title>
  #%env/templates/metas.template%#
  <script type="text/javascript" src="/js/yaml/pages/yacySearch.js"></script>
  <script type="text/javascript">
    //<![CDATA[
    $(function() {
      #(focus)#::
        document.getElementById("search").focus();
      #(/focus)#
    });
    //]]>
  </script>

  <!-- # %env/templates/interactionheader.template%# -->
  <link rel="alternate" type="application/rss+xml" title="Search for #[former]#" href="yacysearch.rss?query=#[former]#" />
  <link rel="search" type="application/opensearchdescription+xml" title="YaCy Search on '#[clientname]#'" href="http://#[thisaddress]#/opensearchdescription.xml" />
<!--YCU
  <link rel="stylesheet" type="text/css" media="screen" href="/env/highslide.css" />
  <script type="text/javascript" src="/js/ajax.js"></script>
  <script type="text/javascript" src="/js/xml.js"></script>
  <script type="text/javascript" src="/js/yacysearch.js"></script>
  <script type="text/javascript" src="/js/highslide/highslide.js"></script>
  <script type="text/javascript">hs.outlineType = 'rounded-white';</script>
  <script src="/yacy/ui/js/jquery-1.3.2.min.js" type="text/javascript"></script>
  <script src="/yacy/ui/js/jquery-ui-1.7.2.min.js" type="text/javascript"></script>
  <script src="/yacy/ui/js/jquery.tagcloud.js" type="text/javascript"></script>
  <script src="/yacy/ui/js/jquery.tinysort.min.js" type="text/javascript"></script>

  <link media="screen" type="text/css" href="/yacy/ui/css/themes/start/ui.base.css" rel="stylesheet" />
  <link media="screen" type="text/css" href="/yacy/ui/css/themes/start/ui.theme.css" rel="stylesheet" />
  <link media="screen" type="text/css" href="/yacy/ui/css/autocomplete.css" rel="stylesheet" />
-->
</head>
<body id="yacySearch">
    <header>
      <div class="logo">
        <a href="#[promoteSearchPageGreeting.homepage]#" class="yacyLogo">
          <img src="#[promoteSearchPageGreeting.smallImage]#"/>
        </a>
      </div>

      <form action="" method="get" accept-charset="UTF-8">
        <div class="headRow">
          <div class="menu#(topmenu)# empty::#(/topmenu)#">
            #(topmenu)#::
            <nav>
              #%env/templates/simpleheader.template%#
            </nav>
            #(/topmenu)#
          </div>
          <div class="search">
            <input id="search" name="query" type="text" maxlength="80" value="#[former]#" onFocus="this.select()" onclick="document.getElementById('Enter').value = 'Search'" />
            <button id="Enter" type="submit" name="Enter" class="icon-search">Search</button>
          </div>
        </div>

        #(searchdomswitches)#::
        <div class="subRow">
          <div class="content">
            <div class="yacysearch">
              #(searchtext)#::<input type="radio" id="text" name="contentdom" value="text" #(check)#::checked="checked"#(/check)# /><label for="text">Text</label>&nbsp;&nbsp;#(/searchtext)#
              #(searchimage)#::<input type="radio" id="image" name="contentdom" value="image" #(check)#::checked="checked"#(/check)# /><label for="image">Images</label>&nbsp;&nbsp;#(/searchimage)#
              #(searchaudio)#::<input type="radio" id="audio" name="contentdom" value="audio" #(check)#::checked="checked"#(/check)# /><label for="audio">Audio</label>&nbsp;&nbsp;#(/searchaudio)#
              #(searchvideo)#::<input type="radio" id="video" name="contentdom" value="video" #(check)#::checked="checked"#(/check)# /><label for="video">Video</label>&nbsp;&nbsp;#(/searchvideo)#
              #(searchapp)#::<input type="radio" id="app" name="contentdom" value="app" #(check)#::checked="checked"#(/check)# /><label for="app">Applications</label>#(/searchapp)#
              &nbsp;
              <a href="index.html?searchoptions=2&amp;count=#[count]#&amp;prefermaskfilter=#[prefermaskfilter]#&amp;cat=#[cat]#&amp;constraint=#[constraint]#&amp;contentdom=#[contentdom]#&amp;former=#[former]#&amp;meanCount=#[meanCount]#">more options</a>
            </div>
          </div>
        </div>
        #(/searchdomswitches)#
        <input type="hidden" name="former" value="#[former]#" />
        <input type="hidden" name="maximumRecords" value="#[count]#" />
        <input type="hidden" name="startRecord" value="0" />
        <input type="hidden" name="verify" value="#[search.verify]#" />
        <input type="hidden" name="resource" value="#[resource]#" />
        <input type="hidden" name="nav" value="#[search.navigation]#" />
        <input type="hidden" name="prefermaskfilter" value="#[prefermaskfilter]#" />
        <input type="hidden" name="depth" value="#[depth]#" />
        <input type="hidden" name="cat" value="#[cat]#" />
        <input type="hidden" name="constraint" value="#[constraint]#" />
        <input type="hidden" name="meanCount" value="#[meanCount]#" />
      </form>
    </header>

    <main>
      <div class="ym-wrapper">
        <h1 class="greeting">#[promoteSearchPageGreeting]#</h1>
        <div class="clear"></div>
        <div class="ym-wbox">

          #(topmenu)#::
          <div id="api">
            <img src="env/grafics/rss.png" width="32" height="32" alt="RSS"/>
            <div class="hidden">
              <script type="text/javascript">
                //<![CDATA[
                document.write('<a href="yacysearch.rss?' + window.location.search.substring(1) + '>This search results</a>');
                //]]>
              </script>
              can also be retrieved as RSS/<a href="http://www.opensearch.org">opensearch</a> output.
              The query format is similar to <a href="http://www.loc.gov/standards/sru/">SRU</a>.
              Click the API icon to see an example call to the search rss API.
              To see a list of all APIs, please visit the <a href="http://www.yacy-websuche.de/wiki/index.php/Dev:API">API wiki page</a>.
            </div>
          </div>
          #(resource-select)#::
          <div id="searchmode">
            <img src="env/grafics/searchmode_p2p_activated_32.png" width="91" height="32"/>
            <br/>
            <a href="yacysearch.html?resource=local"><img src="env/grafics/searchmode_stealth_deactivated_32.png" width="91" height="32"/></a>
            <span>
              Your search is done using peers in the YaCy P2P network. You can switch to 'Stealth Mode' which will switch off P2P, giving you full privacy. Expect less results then, because then only your own search index is used.
            </span>
          </div>
          ::
          <div id="searchmode">
            <a href="yacysearch.html?resource=global"><img src="env/grafics/searchmode_p2p_deactivated_32.png" width="91" height="32"/></a><br/>
            <img src="env/grafics/searchmode_stealth_activated_32.png" width="91" height="32"/>
            <span>
              Your search is done using only your own peer, locally. You can switch to 'Peer-to-Peer Mode' which will cause that your search is done using the other peers in the YaCy network.
            </span>
          </div>
          #(/resource-select)#
          #(/topmenu)#

<script type="text/javascript">
//<![CDATA[
/*
$(function() {
	$.extend($.ui.accordion.defaults, {
		autoHeight: false,
		clearStyle: true,
		collapsible: true,
		header: "h3"
	});
	#{sidebarVocabulary}#
	$("#sidebar#[vocabulary]#").accordion({});
	#{/sidebarVocabulary}#
	$("#sidebarDomains").accordion({});
	$("#sidebarProtocols").accordion({});
	$("#sidebarFiletypes").accordion({});
	$("#sidebarAuthors").accordion({});
	$("#sidebarNameSpace").accordion({});
    $("#sidebarTopics").tagcloud({type:"sphere",power:.25,seed:0,sizemin:10,sizemax:20,height:80,colormin:"682",colormax:"20C"}).find("li").tsort();
    $("#sidebarAbout").accordion({});
#(focus)#::
	$("#search").focus();
#(/focus)#
});*/
//]]>
</script>

#(urlmaskerror)#::
<p><b>Illegal URL mask:</b> <i>#[urlmask]#</i> (not a valid regular expression), mask ignored.</p>
#(/urlmaskerror)#

#(prefermaskerror)#::
<p><b>Illegal prefer mask:</b> <i>#[prefermask]#</i> (not a valid regular expression), mask ignored.</b></p>
#(/prefermaskerror)#

#(didYouMean)#::
<p><b>Did you mean:</b> #{suggestions}# <a href="#[url]#">#[word]#</a> #[sep]##{/suggestions}#</p>
#(/didYouMean)#

#(searchagain)#
::
<script type="text/javascript">
document.getElementById("Enter").value = "search again";
</script>
#(/searchagain)#

<!-- show information about search key handling -->
#(excluded)#
	::
	<p><strong>The following words are stop-words and had been excluded from the search: #[stopwords]#.</strong></p>
#(/excluded)#

<!-- type the number of results and navigation bar -->
#(num-results)#
	::
	<p>No Results.</p>
	::
	<p>No Results. (length of search words must be at least 2 characters)</p>
	::
	<div id="results"></div>
	<span id="resCounter" style="display: inline;"><strong id="resultsOffset">#[offset]#</strong>-<strong id="itemscount">#[itemscount]#</strong> of <strong id="totalcount">#[totalcount]#</strong> #(globalresults)#::; (<strong id="localResourceSize">#[localResourceSize]#</strong> local, <strong id="remoteResourceSize">#[remoteResourceSize]#</strong> remote), <strong id="remoteIndexCount">#[remoteIndexCount]#</strong> from <strong id="remotePeerCount">#[remotePeerCount]#</strong> remote YaCy peers.#(/globalresults)#</span>
	<span id="resNav" style="display: inline;">#[resnav]#</span>
	::
	<p>Searching the web with this peer is disabled for unauthorized users. Please <a href="Status.html?login=">log in</a> as administrator to use the search function</p>
#(/num-results)#

<!-- the search results -->
<script type="text/javascript">
//YCU var progressbar = new Progressbar(#[results]#, document.getElementById("results"));
</script>
<div style="float:left; width:70%;">

<!-- show openstreetmap tiles if geoinfo was found -->
#(geoinfo)#
    ::
  <div class="searchresults">
  <h4 class="linktitle">
  <img src="http://www.openstreetmap.org/favicon.ico" class="favicon" style="width:16px; height:16px;" alt="" />
  Location -- click on map to enlarge</h4>
  <p class="url">
  #{loc}#
  <div style="margin: 20px; width: 100px; float: left;">
  <a href="/osm.png?lon=#[lon]#&amp;lat=#[lat]#&amp;zoom=14" class="thumblink"  style="float:left;" onclick="return hs.expand(this)">
      <img src="/osm.png?lon=#[lon]#&amp;lat=#[lat]#&amp;zoom=14" width="192" height="192" alt="map #[lon]#, #[lat]#" />
  </a>
  <div class="TableCellDark"><a href="http://www.openstreetmap.org/?lat=#[lat]#&amp;lon=#[lon]#&amp;zoom=14">#[name]#</a><br /><a href="http://www.openstreetmap.org/?lat=#[lat]#&amp;lon=#[lon]#&amp;zoom=14">lat=#[lat]#, lon=#[lon]#</a></div> <!-- preview -->
  <div class="highslide-caption"><a href="http://www.openstreetmap.org/?lat=#[lat]#&amp;lon=#[lon]#&amp;zoom=14">#[name]#</a><br /><a href="http://www.openstreetmap.org/?lat=#[lat]#&amp;lon=#[lon]#&amp;zoom=14">lat=#[lat]#, lon=#[lon]#</a></div> <!-- zoomed -->
  </div>
  #{/loc}#
  </p>
  <p class="urlinfo" style="clear:left;">Map (c) by <a href="http://www.openstreetmap.org">OpenStreetMap</a> and contributors, CC-BY-SA</p>
  </div>
#(/geoinfo)#

<!-- linklist begin -->
#(resultTable)#::<table width="100%"><tr class="TableHeader"><td width="30%">Media</td><td width="70%">URL</td></tr>#(/resultTable)#
#{results}#
<!--# include virtual="yacysearchitem.html?item=#[item]#&eventID=#[eventID]#" -->
#{/results}#
#(resultTable)#::</table>#(/resultTable)#
<!-- linklist end -->
<!-- attach the bottomline -->
<!--#(pageNavBottom)#::<div id="pageNavBottom" style="text-align:center">#[resnav]#</div>#(/pageNavBottom)#-->
</div>
<!-- div style="width=220px;" -->
<!--# include virtual="yacysearchtrailer.html?eventID=#[eventID]#" -->
<!-- /div -->
</div>
<!-- update the search results statistics after the search is finished -->
<script type="text/javascript">
/*
function latestinfo() {
  if (window.XMLHttpRequest) { // Mozilla/Safari
    self.xmlHttpReq = new XMLHttpRequest();
  } else if (window.ActiveXObject) { // IE
    self.xmlHttpReq = new ActiveXObject("Microsoft.XMLHTTP");
  }
  self.xmlHttpReq.open('GET', "yacysearchlatestinfo.json?eventID=#[eventID]#", true);
  self.xmlHttpReq.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
  self.xmlHttpReq.onreadystatechange = function() {
    if (self.xmlHttpReq.readyState == 4) {
      //YCU var rsp = eval("(" + self.xmlHttpReq.responseText + ")");
      //YCU statistics(rsp.offset, rsp.itemscount, rsp.itemsperpage, rsp.totalcount, rsp.localResourceSize, rsp.remoteResourceSize, rsp.remoteIndexCount, rsp.remotePeerCount, rsp.navurlBase);
    }
  }
  self.xmlHttpReq.send(null);
}
window.setTimeout('latestinfo();',500);
window.setTimeout('latestinfo();',1000);
window.setTimeout('latestinfo();',1500);
window.setTimeout('latestinfo();',2000);
window.setTimeout('latestinfo();',3000);
window.setTimeout('latestinfo();',4000);
window.setTimeout('latestinfo();',5000);
window.setTimeout('latestinfo();',6000);
window.setTimeout('latestinfo();',8000);
window.setTimeout('latestinfo();',10000);
*/
</script>

<!--# include virtual="/interaction_elements/Footer.html" -->

</body>
</html>
